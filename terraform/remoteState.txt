{
  "version": 4,
  "terraform_version": "0.12.10",
  "serial": 1,
  "lineage": "c09f6997-aced-a024-2abd-71507f6bd6c1",
  "outputs": {
    "post_lambda_arn": {
      "value": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post/invocations",
      "type": "string"
    },
    "url": {
      "value": "https://iuh8gbjhjj.execute-api.eu-west-2.amazonaws.com/default/codingtips",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy",
      "name": "aws_xray_write_only_access",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess",
            "description": "AWS X-Ray write only managed policy",
            "id": "arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess",
            "name": "AWSXrayWriteOnlyAccess",
            "path": "/",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"xray:PutTraceSegments\",\n                \"xray:PutTelemetryRecords\",\n                \"xray:GetSamplingRules\",\n                \"xray:GetSamplingTargets\",\n                \"xray:GetSamplingStatisticSummaries\"               \n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "api-gateway-logs-policy-document",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4063422367",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:*:*:*\"\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogGroup",
                  "logs:CreateLogStream",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:*:*:*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "api_gateway_assumerole_policy_document",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1004447381",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "apigateway.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cloudwatch_assumerole_policy_document",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2057619545",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"logs.us-east-1.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "logs.us-east-1.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "codingtips_api_swagger",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "5453075c8b19222fb0727ac2682bd7a35b9a1e0167716be27ae7dcecfcc6045f",
            "rendered": "---\r\nopenapi: 3.0.0\r\ninfo:\r\n  description: API for the codingtips application\r\n  version: '1'\r\n  title: codingtips\r\npaths:\r\n  \"/codingtips\":\r\n    get:\r\n      description: \"Get coding tips\"\r\n      responses:\r\n        '200':\r\n          description: \"The codingtips request successful.\"\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get/invocations\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    post:\r\n      description: \"Post a codingtip\"\r\n      responses:\r\n        '201':\r\n          description: 200 response\r\n          content:\r\n            application/json:\r\n              schema:\r\n                \"$ref\": \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post/invocations\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    options:\r\n      description: For CORS support\r\n      responses:\r\n        200:\r\n          description: 200 OK\r\n          headers:\r\n            Access-Control-Allow-Methods:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Headers:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Origin:\r\n              schema:\r\n                type: string\r\n      x-amazon-apigateway-integration:\r\n        responses:\r\n          default:\r\n            statusCode: 200\r\n            responseParameters:\r\n              method.response.header.Access-Control-Allow-Methods: \"'GET,OPTIONS'\"\r\n              method.response.header.Access-Control-Allow-Headers: \"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'\"\r\n              method.response.header.Access-Control-Allow-Origin: \"'*'\"\r\n        passthroughBehavior: when_no_match\r\n        requestTemplates:\r\n          application/json: \"{\\\"statusCode\\\": 200}\"\r\n        type: mock\r\n        contentHandling: CONVERT_TO_TEXT\r\nservers:\r\n  - url: \"/\"\r\ncomponents:\r\n  schemas:\r\n    CodingTip:\r\n      type: object\r\n      description: \"A coding tip\"\r\n      properties:\r\n        tip:\r\n          type: string\r\n          description: \"The coding tip\"\r\n        date:\r\n          type: number\r\n          description: \"date in millis when tip was entered\"\r\n        author:\r\n          type: string\r\n          description: \"Author of the coding tip\"\r\n        category:\r\n          type: string\r\n          description: \"category of the coding tip\"\r\n      required:\r\n        - tip\r\n",
            "template": "---\r\nopenapi: 3.0.0\r\ninfo:\r\n  description: API for the codingtips application\r\n  version: '1'\r\n  title: codingtips\r\npaths:\r\n  \"/codingtips\":\r\n    get:\r\n      description: \"Get coding tips\"\r\n      responses:\r\n        '200':\r\n          description: \"The codingtips request successful.\"\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: ${get_lambda_arn}\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    post:\r\n      description: \"Post a codingtip\"\r\n      responses:\r\n        '201':\r\n          description: 200 response\r\n          content:\r\n            application/json:\r\n              schema:\r\n                \"$ref\": \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: ${post_lambda_arn}\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    options:\r\n      description: For CORS support\r\n      responses:\r\n        200:\r\n          description: 200 OK\r\n          headers:\r\n            Access-Control-Allow-Methods:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Headers:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Origin:\r\n              schema:\r\n                type: string\r\n      x-amazon-apigateway-integration:\r\n        responses:\r\n          default:\r\n            statusCode: 200\r\n            responseParameters:\r\n              method.response.header.Access-Control-Allow-Methods: \"'GET,OPTIONS'\"\r\n              method.response.header.Access-Control-Allow-Headers: \"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'\"\r\n              method.response.header.Access-Control-Allow-Origin: \"'*'\"\r\n        passthroughBehavior: when_no_match\r\n        requestTemplates:\r\n          application/json: \"{\\\"statusCode\\\": 200}\"\r\n        type: mock\r\n        contentHandling: CONVERT_TO_TEXT\r\nservers:\r\n  - url: \"/\"\r\ncomponents:\r\n  schemas:\r\n    CodingTip:\r\n      type: object\r\n      description: \"A coding tip\"\r\n      properties:\r\n        tip:\r\n          type: string\r\n          description: \"The coding tip\"\r\n        date:\r\n          type: number\r\n          description: \"date in millis when tip was entered\"\r\n        author:\r\n          type: string\r\n          description: \"Author of the coding tip\"\r\n        category:\r\n          type: string\r\n          description: \"category of the coding tip\"\r\n      required:\r\n        - tip\r\n",
            "vars": {
              "get_lambda_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get/invocations",
              "post_lambda_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post/invocations"
            }
          },
          "depends_on": [
            "aws_lambda_function.get-tips-lambda",
            "aws_lambda_function.post-tips-lambda"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_deployment",
      "name": "codingtips-api-gateway-deployment",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_date": "2019-10-24T15:27:14Z",
            "description": "",
            "execution_arn": "arn:aws:execute-api:eu-west-2:735221941004:iuh8gbjhjj/default",
            "id": "zhsipv",
            "invoke_url": "https://iuh8gbjhjj.execute-api.eu-west-2.amazonaws.com/default",
            "rest_api_id": "iuh8gbjhjj",
            "stage_description": null,
            "stage_name": "default",
            "variables": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_api_gateway_rest_api.codingtips-api-gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_method_settings",
      "name": "settings",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "iuh8gbjhjj-default-*/*",
            "method_path": "*/*",
            "rest_api_id": "iuh8gbjhjj",
            "settings": [
              {
                "cache_data_encrypted": false,
                "cache_ttl_in_seconds": 0,
                "caching_enabled": false,
                "data_trace_enabled": false,
                "logging_level": "INFO",
                "metrics_enabled": true,
                "require_authorization_for_cache_control": false,
                "throttling_burst_limit": 10,
                "throttling_rate_limit": 10,
                "unauthorized_cache_control_header_strategy": ""
              }
            ],
            "stage_name": "default"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_api_gateway_deployment.codingtips-api-gateway-deployment",
            "aws_api_gateway_rest_api.codingtips-api-gateway"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_rest_api",
      "name": "codingtips-api-gateway",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_source": "HEADER",
            "binary_media_types": null,
            "body": "---\r\nopenapi: 3.0.0\r\ninfo:\r\n  description: API for the codingtips application\r\n  version: '1'\r\n  title: codingtips\r\npaths:\r\n  \"/codingtips\":\r\n    get:\r\n      description: \"Get coding tips\"\r\n      responses:\r\n        '200':\r\n          description: \"The codingtips request successful.\"\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get/invocations\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    post:\r\n      description: \"Post a codingtip\"\r\n      responses:\r\n        '201':\r\n          description: 200 response\r\n          content:\r\n            application/json:\r\n              schema:\r\n                \"$ref\": \"#/components/schemas/CodingTip\"\r\n      x-amazon-apigateway-integration:\r\n        uri: arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post/invocations\r\n        passthroughBehavior: \"when_no_match\"\r\n        httpMethod: \"POST\"\r\n        type: \"aws_proxy\"\r\n    options:\r\n      description: For CORS support\r\n      responses:\r\n        200:\r\n          description: 200 OK\r\n          headers:\r\n            Access-Control-Allow-Methods:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Headers:\r\n              schema:\r\n                type: string\r\n            Access-Control-Allow-Origin:\r\n              schema:\r\n                type: string\r\n      x-amazon-apigateway-integration:\r\n        responses:\r\n          default:\r\n            statusCode: 200\r\n            responseParameters:\r\n              method.response.header.Access-Control-Allow-Methods: \"'GET,OPTIONS'\"\r\n              method.response.header.Access-Control-Allow-Headers: \"'Content-Type,Authorization,X-Amz-Date,X-Api-Key,X-Amz-Security-Token'\"\r\n              method.response.header.Access-Control-Allow-Origin: \"'*'\"\r\n        passthroughBehavior: when_no_match\r\n        requestTemplates:\r\n          application/json: \"{\\\"statusCode\\\": 200}\"\r\n        type: mock\r\n        contentHandling: CONVERT_TO_TEXT\r\nservers:\r\n  - url: \"/\"\r\ncomponents:\r\n  schemas:\r\n    CodingTip:\r\n      type: object\r\n      description: \"A coding tip\"\r\n      properties:\r\n        tip:\r\n          type: string\r\n          description: \"The coding tip\"\r\n        date:\r\n          type: number\r\n          description: \"date in millis when tip was entered\"\r\n        author:\r\n          type: string\r\n          description: \"Author of the coding tip\"\r\n        category:\r\n          type: string\r\n          description: \"category of the coding tip\"\r\n      required:\r\n        - tip\r\n",
            "created_date": "2019-10-24T15:27:13Z",
            "description": "API for the codingtips application",
            "endpoint_configuration": [
              {
                "types": [
                  "EDGE"
                ]
              }
            ],
            "execution_arn": "arn:aws:execute-api:eu-west-2:735221941004:iuh8gbjhjj",
            "id": "iuh8gbjhjj",
            "minimum_compression_size": -1,
            "name": "codingtips",
            "policy": "",
            "root_resource_id": "dxncrofarl"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "data.template_file.codingtips_api_swagger"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "codingtips-dynamodb-table",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:eu-west-2:735221941004:table/CodingTips-java-dynamodb",
            "attribute": [
              {
                "name": "Author",
                "type": "S"
              },
              {
                "name": "Date",
                "type": "N"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "Author",
            "id": "CodingTips-java-dynamodb",
            "local_secondary_index": [],
            "name": "CodingTips-java-dynamodb",
            "point_in_time_recovery": [
              {
                "enabled": false
              }
            ],
            "range_key": "Date",
            "read_capacity": 5,
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:eu-west-2:735221941004:table/CodingTips-java-dynamodb/stream/2019-10-24T14:44:09.442",
            "stream_enabled": true,
            "stream_label": "2019-10-24T14:44:09.442",
            "stream_view_type": "NEW_IMAGE",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "api_gateway_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::735221941004:role/CodingTips-java-api-gateway",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2019-10-24T14:44:10Z",
            "description": "",
            "force_detach_policies": false,
            "id": "CodingTips-java-api-gateway",
            "max_session_duration": 3600,
            "name": "CodingTips-java-api-gateway",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROA2WLVEQMGEFVQLBPDR"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "data.aws_iam_policy_document.api_gateway_assumerole_policy_document"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cloudwatch_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::735221941004:role/CodingTips-java-cloudwatch",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.us-east-1.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2019-10-24T14:44:10Z",
            "description": "",
            "force_detach_policies": false,
            "id": "CodingTips-java-cloudwatch",
            "max_session_duration": 3600,
            "name": "CodingTips-java-cloudwatch",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROA2WLVEQMGBT4EBT5D4"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "data.aws_iam_policy_document.cloudwatch_assumerole_policy_document"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::735221941004:role/CodingTips-java-lambda",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2019-10-24T14:44:10Z",
            "description": "",
            "force_detach_policies": false,
            "id": "CodingTips-java-lambda",
            "max_session_duration": 3600,
            "name": "CodingTips-java-lambda",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROA2WLVEQMGO3QF2CY5T"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "api-gateway-lambda-policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "CodingTips-java-api-gateway:CodingTips_api_gateway_lambda_policy",
            "name": "CodingTips_api_gateway_lambda_policy",
            "name_prefix": null,
            "policy": "{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": \"lambda:InvokeFunction\",\r\n            \"Resource\": \"*\"\r\n        }\r\n    ]\r\n}\r\n",
            "role": "CodingTips-java-api-gateway"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_iam_role.api_gateway_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "cloudwatch-lambda-policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "CodingTips-java-lambda:CodingTips-cloudwatch-lambda-policy",
            "name": "CodingTips-cloudwatch-lambda-policy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:*:*:*\"\n    }\n  ]\n}",
            "role": "CodingTips-java-lambda"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_iam_role.lambda_role",
            "data.aws_iam_policy_document.api-gateway-logs-policy-document"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "dynamodb-lambda-policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "CodingTips-java-lambda:CodingTips_dynamodb_lambda_policy",
            "name": "CodingTips_dynamodb_lambda_policy",
            "name_prefix": null,
            "policy": "{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Effect\": \"Allow\",\r\n      \"Action\": [\r\n        \"dynamodb:*\"\r\n      ],\r\n      \"Resource\": \"arn:aws:dynamodb:eu-west-2:735221941004:table/CodingTips-java-dynamodb\"\r\n    }\r\n  ]\r\n}\r\n",
            "role": "CodingTips-java-lambda"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_dynamodb_table.codingtips-dynamodb-table",
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "dynamodb-stream-lambda-policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "CodingTips-java-lambda:CodingTips_dynamodb_stream_lambda_policy",
            "name": "CodingTips_dynamodb_stream_lambda_policy",
            "name_prefix": null,
            "policy": "{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Effect\": \"Allow\",\r\n      \"Action\": [\r\n          \"dynamodb:DescribeStream\",\r\n          \"dynamodb:GetRecords\",\r\n          \"dynamodb:GetShardIterator\",\r\n          \"dynamodb:ListStreams\"\r\n      ],\r\n      \"Resource\": \"arn:aws:dynamodb:eu-west-2:735221941004:table/CodingTips-java-dynamodb/stream/2019-10-24T14:44:09.442\"\r\n    }\r\n  ]\r\n}\r\n",
            "role": "CodingTips-java-lambda"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_dynamodb_table.codingtips-dynamodb-table",
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_xray_write_only_access",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "CodingTips-java-lambda-20191024152647404600000001",
            "policy_arn": "arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess",
            "role": "CodingTips-java-lambda"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_iam_role.lambda_role",
            "data.aws_iam_policy.aws_xray_write_only_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "dynamodb-stream-invoke-listener-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "batch_size": 1,
            "enabled": true,
            "event_source_arn": "arn:aws:dynamodb:eu-west-2:735221941004:table/CodingTips-java-dynamodb/stream/2019-10-24T14:44:09.442",
            "function_arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-tips-stream-listener",
            "function_name": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-tips-stream-listener",
            "id": "d9af14f4-6592-49b0-b897-241a67c213fa",
            "last_modified": null,
            "last_processing_result": "No records processed",
            "starting_position": "LATEST",
            "starting_position_timestamp": null,
            "state": "Enabled",
            "state_transition_reason": "User action",
            "uuid": "d9af14f4-6592-49b0-b897-241a67c213fa"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_dynamodb_table.codingtips-dynamodb-table",
            "aws_lambda_function.tips-stream-listener-tips-lambda"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "get-tips-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "REGION": "eu-west-2",
                  "SCANLIMIT": "100"
                }
              }
            ],
            "filename": "../get-lambda/target/get-lambda-1.0.0-SNAPSHOT.jar",
            "function_name": "CodingTips-java-get",
            "handler": "GetLambda::handleRequest",
            "id": "CodingTips-java-get",
            "invoke_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get/invocations",
            "kms_key_arn": "",
            "last_modified": "2019-10-24T15:26:59.323+0000",
            "layers": null,
            "memory_size": 512,
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get:$LATEST",
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::735221941004:role/CodingTips-java-lambda",
            "runtime": "java8",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "source_code_hash": "5adn6T09NZcUHxBd9aDWeSG0h3/qbjezarf6zSq6DWo=",
            "source_code_size": 19791880,
            "tags": null,
            "timeout": 30,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "Active"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "depends_on": [
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "post-tips-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "REGION": "eu-west-2",
                  "SCANLIMIT": "100"
                }
              }
            ],
            "filename": "../post-lambda/target/post-lambda-1.0.0-SNAPSHOT.jar",
            "function_name": "CodingTips-java-post",
            "handler": "PostLambda::handleRequest",
            "id": "CodingTips-java-post",
            "invoke_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post/invocations",
            "kms_key_arn": "",
            "last_modified": "2019-10-24T15:27:12.016+0000",
            "layers": null,
            "memory_size": 512,
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post:$LATEST",
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::735221941004:role/CodingTips-java-lambda",
            "runtime": "java8",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "source_code_hash": "NVCcpp5y5MEEfTSMnjp2Efo5nc1YRku3ZpaTcgROgas=",
            "source_code_size": 19793292,
            "tags": null,
            "timeout": 30,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "Active"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "depends_on": [
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "tips-stream-listener-tips-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-tips-stream-listener",
            "dead_letter_config": [],
            "description": "",
            "environment": [
              {
                "variables": {
                  "REGION": "eu-west-2"
                }
              }
            ],
            "filename": "../tips-stream-listener-lambda/target/tips-stream-listener-lambda-1.0.0-SNAPSHOT.jar",
            "function_name": "CodingTips-java-tips-stream-listener",
            "handler": "TipsStreamListenerLambda::handleRequest",
            "id": "CodingTips-java-tips-stream-listener",
            "invoke_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-tips-stream-listener/invocations",
            "kms_key_arn": "",
            "last_modified": "2019-10-24T15:27:25.284+0000",
            "layers": null,
            "memory_size": 512,
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-tips-stream-listener:$LATEST",
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::735221941004:role/CodingTips-java-lambda",
            "runtime": "java8",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "source_code_hash": "hPRr2hO3NK6oZfF48fTEb54VxeNH8AQHhcVsE33r9kk=",
            "source_code_size": 19276268,
            "tags": null,
            "timeout": 30,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "Active"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "depends_on": [
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "api-gateway-invoke-get-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-get",
            "id": "AllowAPIGatewayInvoke",
            "principal": "apigateway.amazonaws.com",
            "qualifier": "",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:eu-west-2:735221941004:iuh8gbjhjj/default/*/*",
            "statement_id": "AllowAPIGatewayInvoke",
            "statement_id_prefix": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_api_gateway_deployment.codingtips-api-gateway-deployment",
            "aws_lambda_function.get-tips-lambda"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "api-gateway-invoke-post-lambda",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "arn:aws:lambda:eu-west-2:735221941004:function:CodingTips-java-post",
            "id": "AllowAPIGatewayInvoke",
            "principal": "apigateway.amazonaws.com",
            "qualifier": "",
            "source_account": null,
            "source_arn": "arn:aws:execute-api:eu-west-2:735221941004:iuh8gbjhjj/default/*/*",
            "statement_id": "AllowAPIGatewayInvoke",
            "statement_id_prefix": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "aws_api_gateway_deployment.codingtips-api-gateway-deployment",
            "aws_lambda_function.post-tips-lambda"
          ]
        }
      ]
    }
  ]
}

